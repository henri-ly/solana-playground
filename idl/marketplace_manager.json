{
  "version": "0.1.0",
  "name": "marketplace_manager",
  "instructions": [
    {
      "name": "acceptAccess",
      "docs": [
        "airdrop a token that allows users to create products in a specific marketplace"
      ],
      "accounts": [
        {
          "name": "signer",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "receiver",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "marketplace",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "request",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "accessMint",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "accessVault",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "rent",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "systemProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "tokenProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "associatedTokenProgram",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": []
    },
    {
      "name": "airdropAccess",
      "docs": [
        "airdrop a token that allows users to create products in a specific marketplace"
      ],
      "accounts": [
        {
          "name": "signer",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "receiver",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "marketplace",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "accessMint",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "accessVault",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "rent",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "systemProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "tokenProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "associatedTokenProgram",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": []
    },
    {
      "name": "editProduct",
      "docs": [
        "seller can edit payment_mint and product_price"
      ],
      "accounts": [
        {
          "name": "signer",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "product",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "marketplace",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "paymentMint",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": [
        {
          "name": "productPrice",
          "type": "u64"
        }
      ]
    },
    {
      "name": "editMarketplace",
      "docs": [
        "marketplace authority can edit fees and rewards configs"
      ],
      "accounts": [
        {
          "name": "signer",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "marketplace",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "rewardMint",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "discountMint",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": [
        {
          "name": "params",
          "type": {
            "defined": "EditMarketplaceParams"
          }
        }
      ]
    },
    {
      "name": "initBounty",
      "docs": [
        "marketplace auth can create multiple bounty vaults (different mints)"
      ],
      "accounts": [
        {
          "name": "signer",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "marketplace",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "rewardMint",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "bountyVault",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "rent",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "systemProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "tokenProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "associatedTokenProgram",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": []
    },
    {
      "name": "initMarketplace",
      "docs": [
        "recommeded to read the Marketplace state code to understand the meaning of this data structure"
      ],
      "accounts": [
        {
          "name": "signer",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "marketplace",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "accessMint",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "rewardMint",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "discountMint",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "bountyVault",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "rent",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "systemProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "tokenProgram2022",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "tokenProgram",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": [
        {
          "name": "params",
          "type": {
            "defined": "InitMarketplaceParams"
          }
        }
      ]
    },
    {
      "name": "initProductTree",
      "docs": [
        "recommeded to read the Product state code to understand the meaning of this data structure"
      ],
      "accounts": [
        {
          "name": "signer",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "marketplace",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "product",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "productMint",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "paymentMint",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "accessMint",
          "isMut": true,
          "isSigner": false,
          "isOptional": true
        },
        {
          "name": "productMintVault",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "accessVault",
          "isMut": true,
          "isSigner": false,
          "isOptional": true
        },
        {
          "name": "masterEdition",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "metadata",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "merkleTree",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "treeAuthority",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "rent",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "tokenMetadataProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "logWrapper",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "bubblegumProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "compressionProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "tokenProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "associatedTokenProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "systemProgram",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": [
        {
          "name": "params",
          "type": {
            "defined": "InitProductTreeParams"
          }
        }
      ]
    },
    {
      "name": "initProduct",
      "docs": [
        "recommeded to read the Product state code to understand the meaning of this data structure"
      ],
      "accounts": [
        {
          "name": "signer",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "marketplace",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "product",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "productMint",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "paymentMint",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "accessMint",
          "isMut": true,
          "isSigner": false,
          "isOptional": true
        },
        {
          "name": "accessVault",
          "isMut": true,
          "isSigner": false,
          "isOptional": true
        },
        {
          "name": "rent",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "systemProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "tokenProgram",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": [
        {
          "name": "params",
          "type": {
            "defined": "InitProductParams"
          }
        }
      ]
    },
    {
      "name": "initRewardVault",
      "docs": [
        "if a marketplace wants to change the reward mint, sellers and buyers have to create a new vault",
        "because there is only one PDA, reward is the authority of these vaults"
      ],
      "accounts": [
        {
          "name": "signer",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "marketplace",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "reward",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "rewardMint",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "rewardVault",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "rent",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "systemProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "tokenProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "associatedTokenProgram",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": []
    },
    {
      "name": "initReward",
      "accounts": [
        {
          "name": "signer",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "marketplace",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "reward",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "rewardMint",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "rewardVault",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "rent",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "systemProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "tokenProgram",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": []
    },
    {
      "name": "registerBuyCnft",
      "accounts": [
        {
          "name": "signer",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "seller",
          "isMut": true,
          "isSigner": false,
          "isOptional": true
        },
        {
          "name": "marketplaceAuth",
          "isMut": true,
          "isSigner": false,
          "isOptional": true
        },
        {
          "name": "marketplace",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "product",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "paymentMint",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "productMint",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "buyerTransferVault",
          "isMut": true,
          "isSigner": false,
          "isOptional": true
        },
        {
          "name": "sellerTransferVault",
          "isMut": true,
          "isSigner": false,
          "isOptional": true
        },
        {
          "name": "marketplaceTransferVault",
          "isMut": true,
          "isSigner": false,
          "isOptional": true,
          "docs": [
            "ATA that receives fees"
          ]
        },
        {
          "name": "bountyVault",
          "isMut": true,
          "isSigner": false,
          "isOptional": true
        },
        {
          "name": "sellerReward",
          "isMut": true,
          "isSigner": false,
          "isOptional": true
        },
        {
          "name": "sellerRewardVault",
          "isMut": true,
          "isSigner": false,
          "isOptional": true
        },
        {
          "name": "buyerReward",
          "isMut": true,
          "isSigner": false,
          "isOptional": true
        },
        {
          "name": "buyerRewardVault",
          "isMut": true,
          "isSigner": false,
          "isOptional": true
        },
        {
          "name": "metadata",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "masterEdition",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "treeAuthority",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "bubblegumSigner",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "merkleTree",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "systemProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "tokenProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "rent",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "logWrapper",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "bubblegumProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "compressionProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "tokenMetadataProgram",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": [
        {
          "name": "params",
          "type": {
            "defined": "RegisterBuyCnftParams"
          }
        }
      ]
    },
    {
      "name": "registerBuyFungible",
      "docs": [
        "manages the transfers (buyer -> seller and fees to marketplace authority)",
        "and buyers receive a token as a proof of payment (each product has its own tokenc)"
      ],
      "accounts": [
        {
          "name": "signer",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "seller",
          "isMut": true,
          "isSigner": false,
          "isOptional": true
        },
        {
          "name": "marketplaceAuth",
          "isMut": true,
          "isSigner": false,
          "isOptional": true
        },
        {
          "name": "marketplace",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "product",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "productMint",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "paymentMint",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "buyerTokenVault",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "buyerTransferVault",
          "isMut": true,
          "isSigner": false,
          "isOptional": true
        },
        {
          "name": "sellerTransferVault",
          "isMut": true,
          "isSigner": false,
          "isOptional": true
        },
        {
          "name": "marketplaceTransferVault",
          "isMut": true,
          "isSigner": false,
          "isOptional": true,
          "docs": [
            "ATA that receives fees"
          ]
        },
        {
          "name": "bountyVault",
          "isMut": true,
          "isSigner": false,
          "isOptional": true
        },
        {
          "name": "sellerReward",
          "isMut": true,
          "isSigner": false,
          "isOptional": true
        },
        {
          "name": "sellerRewardVault",
          "isMut": true,
          "isSigner": false,
          "isOptional": true
        },
        {
          "name": "buyerReward",
          "isMut": true,
          "isSigner": false,
          "isOptional": true
        },
        {
          "name": "buyerRewardVault",
          "isMut": true,
          "isSigner": false,
          "isOptional": true
        },
        {
          "name": "systemProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "tokenProgram",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": [
        {
          "name": "amount",
          "type": "u32"
        }
      ]
    },
    {
      "name": "registerBuy",
      "docs": [
        "manages the transfers (buyer -> seller and fees to marketplace authority)",
        "uses payment pda to index transactions, but it does not initilize it"
      ],
      "accounts": [
        {
          "name": "signer",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "seller",
          "isMut": true,
          "isSigner": false,
          "isOptional": true
        },
        {
          "name": "marketplaceAuth",
          "isMut": true,
          "isSigner": false,
          "isOptional": true
        },
        {
          "name": "marketplace",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "product",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "paymentMint",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "buyerTransferVault",
          "isMut": true,
          "isSigner": false,
          "isOptional": true
        },
        {
          "name": "sellerTransferVault",
          "isMut": true,
          "isSigner": false,
          "isOptional": true
        },
        {
          "name": "marketplaceTransferVault",
          "isMut": true,
          "isSigner": false,
          "isOptional": true,
          "docs": [
            "ATA that receives fees"
          ]
        },
        {
          "name": "bountyVault",
          "isMut": true,
          "isSigner": false,
          "isOptional": true
        },
        {
          "name": "sellerReward",
          "isMut": true,
          "isSigner": false,
          "isOptional": true
        },
        {
          "name": "sellerRewardVault",
          "isMut": true,
          "isSigner": false,
          "isOptional": true
        },
        {
          "name": "buyerReward",
          "isMut": true,
          "isSigner": false,
          "isOptional": true
        },
        {
          "name": "buyerRewardVault",
          "isMut": true,
          "isSigner": false,
          "isOptional": true
        },
        {
          "name": "systemProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "tokenProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "rent",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": [
        {
          "name": "amount",
          "type": "u32"
        }
      ]
    },
    {
      "name": "requestAccess",
      "docs": [
        "creates on chain request to get access to sell products in a specific marketplace"
      ],
      "accounts": [
        {
          "name": "signer",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "marketplace",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "request",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "rent",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "systemProgram",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": []
    },
    {
      "name": "updateTree",
      "docs": [
        "creates o new tree related to the product"
      ],
      "accounts": [
        {
          "name": "payer",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "signer",
          "isMut": false,
          "isSigner": true
        },
        {
          "name": "marketplace",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "product",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "treeAuthority",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "merkleTree",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "logWrapper",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "systemProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "bubblegumProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "compressionProgram",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": [
        {
          "name": "params",
          "type": {
            "defined": "UpdateProductTreeParams"
          }
        }
      ]
    },
    {
      "name": "withdrawReward",
      "docs": [
        "when promotion is ended users can withdraw the funds stored in the vaults, managed by the reward PFA"
      ],
      "accounts": [
        {
          "name": "signer",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "marketplace",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "reward",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "rewardMint",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "receiverVault",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "rewardVault",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "tokenProgram",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": []
    }
  ],
  "accounts": [
    {
      "name": "Marketplace",
      "docs": [
        "This account represents a marketplace with associated transaction fees and reward configurations.",
        "The account is controlled by an authority that can modify the fee and reward configurations."
      ],
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "authority",
            "docs": [
              "The authorized entity that can modify this account data."
            ],
            "type": "publicKey"
          },
          {
            "name": "tokenConfig",
            "docs": [
              "Token or indexing and access system work."
            ],
            "type": {
              "defined": "TokenConfig"
            }
          },
          {
            "name": "permissionConfig",
            "docs": [
              "Set of permission configuration on a marketplace that can be modified by the authority."
            ],
            "type": {
              "defined": "PermissionConfig"
            }
          },
          {
            "name": "feesConfig",
            "docs": [
              "Set of fee configuration that can be modified by the authority."
            ],
            "type": {
              "defined": "FeesConfig"
            }
          },
          {
            "name": "rewardsConfig",
            "docs": [
              "Set of rewards configuration that can be modified by the authority."
            ],
            "type": {
              "defined": "RewardsConfig"
            }
          },
          {
            "name": "bumps",
            "docs": [
              "Seed bump parameters used for deterministic address derivation."
            ],
            "type": {
              "defined": "MarketplaceBumps"
            }
          }
        ]
      }
    },
    {
      "name": "Product",
      "docs": [
        "This account works as an product administrator"
      ],
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "authority",
            "docs": [
              "The seller's public key, who owns the product."
            ],
            "type": "publicKey"
          },
          {
            "name": "id",
            "type": {
              "array": [
                "u8",
                16
              ]
            }
          },
          {
            "name": "productMint",
            "docs": [
              "Two options:",
              "- Collection address",
              "- Mint (fungible) that represents the product. Owning this token implies having paid for the product."
            ],
            "type": "publicKey"
          },
          {
            "name": "merkleTree",
            "docs": [
              "Active merkle tree, a seller has a limited sells so when the tree is full it is needed to update this address",
              "can be null in case the product is created with create_product, to create a new one it is needed to call update_tree"
            ],
            "type": "publicKey"
          },
          {
            "name": "sellerConfig",
            "docs": [
              "Seller-defined product configurations."
            ],
            "type": {
              "defined": "SellerConfig"
            }
          },
          {
            "name": "bumps",
            "docs": [
              "Seed bump parameters used for deterministic address derivation."
            ],
            "type": {
              "defined": "ProductBumps"
            }
          }
        ]
      }
    },
    {
      "name": "Reward",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "authority",
            "type": "publicKey"
          },
          {
            "name": "bump",
            "type": "u8"
          }
        ]
      }
    },
    {
      "name": "Access",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "authority",
            "docs": [
              "The user pubkey that request access to the marketplace."
            ],
            "type": "publicKey"
          },
          {
            "name": "bump",
            "type": "u8"
          }
        ]
      }
    }
  ],
  "types": [
    {
      "name": "EditMarketplaceParams",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "fee",
            "type": "u16"
          },
          {
            "name": "feeReduction",
            "type": "u16"
          },
          {
            "name": "sellerReward",
            "type": "u16"
          },
          {
            "name": "buyerReward",
            "type": "u16"
          },
          {
            "name": "transferable",
            "type": "bool"
          },
          {
            "name": "permissionless",
            "type": "bool"
          },
          {
            "name": "rewardsEnabled",
            "type": "bool"
          },
          {
            "name": "feePayer",
            "type": {
              "defined": "PaymentFeePayer"
            }
          }
        ]
      }
    },
    {
      "name": "InitMarketplaceParams",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "fee",
            "type": "u16"
          },
          {
            "name": "feeReduction",
            "type": "u16"
          },
          {
            "name": "sellerReward",
            "type": "u16"
          },
          {
            "name": "buyerReward",
            "type": "u16"
          },
          {
            "name": "transferable",
            "type": "bool"
          },
          {
            "name": "permissionless",
            "type": "bool"
          },
          {
            "name": "rewardsEnabled",
            "type": "bool"
          },
          {
            "name": "accessMintBump",
            "type": "u8"
          },
          {
            "name": "feePayer",
            "type": {
              "defined": "PaymentFeePayer"
            }
          }
        ]
      }
    },
    {
      "name": "InitProductTreeParams",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "id",
            "type": {
              "array": [
                "u8",
                16
              ]
            }
          },
          {
            "name": "productPrice",
            "type": "u64"
          },
          {
            "name": "maxDepth",
            "type": "u32"
          },
          {
            "name": "maxBufferSize",
            "type": "u32"
          },
          {
            "name": "name",
            "type": "string"
          },
          {
            "name": "metadataUrl",
            "type": "string"
          },
          {
            "name": "feeBasisPoints",
            "type": "u16"
          }
        ]
      }
    },
    {
      "name": "InitProductParams",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "id",
            "type": {
              "array": [
                "u8",
                16
              ]
            }
          },
          {
            "name": "productPrice",
            "type": "u64"
          },
          {
            "name": "productMintBump",
            "type": "u8"
          }
        ]
      }
    },
    {
      "name": "RegisterBuyCnftParams",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "amount",
            "type": "u32"
          },
          {
            "name": "name",
            "type": "string"
          },
          {
            "name": "symbol",
            "type": "string"
          },
          {
            "name": "uri",
            "type": "string"
          }
        ]
      }
    },
    {
      "name": "UpdateProductTreeParams",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "maxDepth",
            "type": "u32"
          },
          {
            "name": "maxBufferSize",
            "type": "u32"
          }
        ]
      }
    },
    {
      "name": "TokenConfig",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "transferable",
            "docs": [
              "If true the fungible token can be transferable, ie: a user can sell it"
            ],
            "type": "bool"
          }
        ]
      }
    },
    {
      "name": "PermissionConfig",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "accessMint",
            "type": "publicKey"
          },
          {
            "name": "permissionless",
            "docs": [
              "True = permissionless marketplace, false = only wallets with a specific token can create products."
            ],
            "type": "bool"
          }
        ]
      }
    },
    {
      "name": "FeesConfig",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "fee",
            "docs": [
              "The transaction fee percentage levied by the app or marketplace.",
              "For example, a value of 250 corresponds to a fee of 2.5%."
            ],
            "type": "u16"
          },
          {
            "name": "feePayer",
            "docs": [
              "The entity that pays the transaction fees (either the buyer or the seller)."
            ],
            "type": {
              "defined": "PaymentFeePayer"
            }
          },
          {
            "name": "discountMint",
            "docs": [
              "This mint reduces the fee"
            ],
            "type": "publicKey"
          },
          {
            "name": "feeReduction",
            "docs": [
              "Fee reduction percentage applied if the seller chooses to receive a specific token as payment."
            ],
            "type": "u16"
          }
        ]
      }
    },
    {
      "name": "RewardsConfig",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "rewardsEnabled",
            "docs": [
              "This flag enables or disables the reward system.",
              "When false, the reward system is inactive regardless of the reward_mint value."
            ],
            "type": "bool"
          },
          {
            "name": "rewardMint",
            "docs": [
              "If set, the marketplace will only give rewards if the payment is made with this specific mint.",
              "To enable rewards irrespective of payment mint, set this value to default pubkey."
            ],
            "type": "publicKey"
          },
          {
            "name": "sellerReward",
            "docs": [
              "The transaction volume percentage that the seller receives as a reward on a sale.",
              "A value of 250 corresponds to a reward of 2.5% of the transaction volume.",
              "A value of 0 indicates that there is no active rewards for the seller."
            ],
            "type": "u16"
          },
          {
            "name": "buyerReward",
            "docs": [
              "The transaction volume percentage that the buyer receives as a reward on a sale."
            ],
            "type": "u16"
          }
        ]
      }
    },
    {
      "name": "MarketplaceBumps",
      "docs": [
        "Bump seed parameters used for deterministic address derivation."
      ],
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "bump",
            "type": "u8"
          },
          {
            "name": "accessMintBump",
            "type": "u8"
          }
        ]
      }
    },
    {
      "name": "SellerConfig",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "paymentMint",
            "docs": [
              "The token seller selects to receive as payment."
            ],
            "type": "publicKey"
          },
          {
            "name": "productPrice",
            "docs": [
              "The product price in terms of payment token/mint."
            ],
            "type": "u64"
          }
        ]
      }
    },
    {
      "name": "ProductBumps",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "bump",
            "type": "u8"
          },
          {
            "name": "mintBump",
            "type": "u8"
          }
        ]
      }
    },
    {
      "name": "PaymentFeePayer",
      "type": {
        "kind": "enum",
        "variants": [
          {
            "name": "Buyer"
          },
          {
            "name": "Seller"
          }
        ]
      }
    }
  ],
  "errors": [
    {
      "code": 6000,
      "name": "CannotCloseProduct",
      "msg": "There are still users with active payments"
    },
    {
      "code": 6001,
      "name": "StringTooLong",
      "msg": "You are providing a string that is too long"
    },
    {
      "code": 6002,
      "name": "NumericalOverflow",
      "msg": "Numerical Overflow happened"
    },
    {
      "code": 6003,
      "name": "IncorrectFee",
      "msg": "You are setting a higher fee than allowed"
    },
    {
      "code": 6004,
      "name": "InconrrectAppAccount",
      "msg": "You are providing a wrong app account"
    },
    {
      "code": 6005,
      "name": "InconrrectCreatorAccount",
      "msg": "You are providing a wrong creator vault"
    },
    {
      "code": 6006,
      "name": "IncorrectPaymentMint",
      "msg": "You are trying to pay a different mint than the one stated by the seller"
    },
    {
      "code": 6007,
      "name": "IncorrectATA",
      "msg": "You are providing a wrong associated token account"
    },
    {
      "code": 6008,
      "name": "IncorrectAuthority",
      "msg": "You are not the authority"
    },
    {
      "code": 6009,
      "name": "IncorrectMint",
      "msg": "You are providing an incorrect mint"
    },
    {
      "code": 6010,
      "name": "IncorrectNonce",
      "msg": "Given nonce is invalid"
    },
    {
      "code": 6011,
      "name": "IncorrectSeeds",
      "msg": "Incorrect seeds"
    },
    {
      "code": 6012,
      "name": "IncorrectGovernanceName",
      "msg": "You are not allowed to create a governance account"
    },
    {
      "code": 6013,
      "name": "IncorrectTokenProgram",
      "msg": "You are providing a wrong token program"
    },
    {
      "code": 6014,
      "name": "IncorrectInstruction",
      "msg": "You are trying to sign an incorrect instruction based on marketplace configuration"
    },
    {
      "code": 6015,
      "name": "ConversionError",
      "msg": "Failed to convert data"
    },
    {
      "code": 6016,
      "name": "TransferError",
      "msg": "Transfer error"
    },
    {
      "code": 6017,
      "name": "MintToError",
      "msg": "Error during the mint_to CPI"
    },
    {
      "code": 6018,
      "name": "BurnError",
      "msg": "Error during the burn CPI"
    },
    {
      "code": 6019,
      "name": "CloseAccountError",
      "msg": "Error during the close account CPI"
    },
    {
      "code": 6020,
      "name": "ClosedPromotion",
      "msg": "Currently we do not offer any promotion"
    },
    {
      "code": 6021,
      "name": "OpenPromotion",
      "msg": "Currently you can not withdraw the bonus because the promotion has not finished"
    },
    {
      "code": 6022,
      "name": "ExtensionNotSupported",
      "msg": "Currently this extension is not supported"
    },
    {
      "code": 6023,
      "name": "CreateAccountError",
      "msg": "Error creating mint account"
    },
    {
      "code": 6024,
      "name": "MintExtensionError",
      "msg": "Error extension init"
    },
    {
      "code": 6025,
      "name": "InitMintError",
      "msg": "Error mint init"
    },
    {
      "code": 6026,
      "name": "OptionalAccountNotProvided",
      "msg": "Optional account not provided"
    },
    {
      "code": 6027,
      "name": "NotInWithelist",
      "msg": "You dont have the token that allows you to create products"
    }
  ],
  "metadata": {
    "address": "brick5uEiJqSkfuAvMtKmq7kiuEVmbjVMiigyV51GRF"
  }
}